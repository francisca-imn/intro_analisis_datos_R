pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n), hjust = 0.5)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5))+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 2)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 5)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 3)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 3)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons",
colour = "¿Es legendario")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 3)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons",
colour = "¿Es legendario")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 3)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons",
fill = "¿Es legendario")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 3)+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons",
fill = "¿Es legendario?")+
theme(legend.position = "bottom")
pokemon_peliculas %>%
group_by(pelicula, es_legendario) %>%
summarise(n = n_distinct(nombre_ingles)) %>%
ungroup() %>%
mutate(pelicula = case_when(is.na(pelicula) ~ "Sin película",
TRUE ~ pelicula)) %>%
ggplot(aes(y = pelicula, x = n, fill = es_legendario)) +
geom_col() +
geom_text(aes(label = n),
position = position_stack(vjust = 0.5),
size = 3)+
scale_fill_manual(values = c("#9DB4C0", "#E9A178"))+
scale_y_discrete(labels = \(x) stringr::str_wrap(x, width = 10))+
labs(y = "",
x = "Cantidad de pokemons",
fill = "¿Es legendario?")+
theme(legend.position = "bottom")
resumen <- pokemon_peliculas %>%
group_by(generacion, es_legendario) %>%
summarise(puntos_vida = mean(puntos_vida),
ataque = mean(ataque),
defensa = mean(defensa),
velocidad = mean(velocidad))
options(knitr.kable.NA = "-")
kableExtra::kable(resumen, format = "pandoc")
resumen <- pokemon_peliculas %>%
group_by(generacion, es_legendario) %>%
summarise(puntos_vida = round(mean(puntos_vida),1),
ataque = round(mean(ataque), 1),
defensa = round(mean(defensa), 1),
velocidad = round(mean(velocidad),1))
options(knitr.kable.NA = "-")
kableExtra::kable(resumen, format = "pandoc")
var_disponibles <- tibble(
variables = names(pokemon_peliculas))
kable(var_disponibles, format = "Pandoc")
library(kableExtra)
kable(var_disponibles, format = "Pandoc")
library(kableExtra)
kable(var_disponibles, format = "Pandoc")
kable(var_disponibles, format = "pandoc")
library(tidyverse)
pokemon <- read_csv("datos/pokemon.csv")
library(tidyverse)
pokemon <- read_csv("datos/pokemon.csv")
## Pregunta 1: Seleccionar las columnas ID_poke y nombre_traducido
```{r}
pokemon %>% select(ID_poke, nombre_traducido)
# Opción 1: Dejando claro que el nivel de evolución es 1
pokemon %>%
filter(nivel_evolucion == 1) %>%
group_by(generacion) %>%
count(nivel_evolucion)
# Opción 2: Mas similar a lo de la clase
pokemon %>% filter(nivel_evolucion == 1) %>% count(generacion)
unique((pokemon %>% slice_max(total, n = 5))$nombre_traducido)
pokemon %>%
mutate(max = max(total, na.rm = TRUE),
diferencia = max - total)
pokemon %>%
select(ID_poke, generacion) %>%
group_by(generacion) %>%
summarise(n = n_distinct(ID_poke))
pokemon %>%
select(nombre_traducido, tipo_1, velocidad, es_legendario) %>%
filter(es_legendario == "VERDADERO") %>%
group_by(tipo_1) %>%
summarise(promedio = mean(velocidad)) %>%
arrange(-promedio)
pokemon %>%
group_by(generacion) %>%
mutate(mean_total_generacion = mean(total))
apariciones <- read_csv("datos/apariciones.csv")
unique(pokemon$nombre_ingles)
unique(apariciones$pokemon)
unique(pokemon$nombre_ingles)
unique(apariciones$pokemon)
pokemon_peliculas <- pokemon %>%
left_join(apariciones, by = c("nombre_ingles" = "pokemon"))
no_aparecen <- setdiff(apariciones$pokemon, pokemon$nombre_ingles)
pokemon_wider <- pokemon_peliculas %>%
select(nombre_traducido, pelicula, total) %>%
group_by(nombre_traducido, pelicula) %>%
summarise(media = mean(total)) %>%
filter(!is.na(pelicula)) %>%
pivot_wider(names_from = "pelicula", values_from = "media")
View(pokemon_wider)
pokemon_wider <- pokemon_peliculas %>%
select(nombre_traducido, pelicula, total) %>%
group_by(nombre_traducido, pelicula) %>%
summarise(media = mean(total))
View(pokemon_wider)
pokemon_longer <- pokemon_peliculas %>%
select(nombre_traducido, pelicula, tipo_1, tipo_2) %>%
pivot_longer(cols = tipo_1:tipo_2,
names_to = "tipo",
values_to = "valor")
View(pokemon_longer)
pokemon_resumen <- pokemon_longer %>%
group_by(tipo, pelicula) %>%
summarise(riqueza = n_distinct(nombre_traducido))
View(pokemon_resumen)
library(tidyverse)
pokemon <- read_csv("datos/pokemon.csv")
pok_n_tipos <- pokemon %>%
mutate(n_tipos = case_when(is.na(tipo_1) | is.na(tipo_2) ~ 1,
TRUE ~ 2))
View(pok_n_tipos)
pok_top <- pokemon %>%
mutate(top = case_when(total == max(total) ~ "max",
TRUE ~ NA_character_))
View(pok_top)
quantil_total <- quantile(pokemon$total, na.rm = T)
quantil_total
quantile(pokemon$total, na.rm = T)
TRUE ~ NA_integer_)
TRUE ~ NA_integer_)
TRUE ~ total)
pok_p4 <- pokemon %>%
mutate(categoria_total = case_when(total > 180 & total <= 330 ~ "bajo (0-25%)",
total > 330 & total <= 450 ~ "medio (25-50%)",
total > 450 & total <= 515 ~ "alto (50-75%)",
total > 515 ~ "muy alto (75-100%)",
TRUE ~ total))
View(pokemon)
glimpse(pokemon)
pok_p4 <- pokemon %>%
mutate(categoria_total = case_when(total > 180 & total <= 330 ~ "bajo (0-25%)",
total > 330 & total <= 450 ~ "medio (25-50%)",
total > 450 & total <= 515 ~ "alto (50-75%)",
total > 515 ~ "muy alto (75-100%)",
TRUE ~ total))
pok_p4 <- pokemon %>%
mutate(categoria_total = case_when(total > 180 & total <= 330 ~ "bajo (0-25%)",
total > 330 & total <= 450 ~ "medio (25-50%)",
total > 450 & total <= 515 ~ "alto (50-75%)",
total > 515 ~ "muy alto (75-100%)",
TRUE ~ NA_character_))
View(pok_p4)
library(tidyverse)
pokemon <- read_csv("datos/pokemon.csv")
# Caso 1
pokemon1 <- pokemon %>%
mutate(generacion = as.factor(generacion),
nivel_evolucion = as.factor(nivel_evolucion))
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(values = c("#39bf68", "#dbed64", "#e36e40", "#311bf5", "#1beef5", "#f51be3"))
# Caso 2
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_point() +
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(values = c("#39bf68", "#dbed64", "#e36e40", "#311bf5", "#1beef5", "#f51be3"))
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(values = c("#39bf68", "#dbed64", "#e36e40", "#311bf5", "#1beef5", "#f51be3"))
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(values = c("#39bf68", "#dbed64", "#e36e40", "#311bf5", "#1beef5", "#f51be3"))+
labs(y = "Defensa",
x = "Velocidad")+
theme(legend.position = "bottom")
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(values = c("#39bf68", "#dbed64", "#e36e40", "#311bf5", "#1beef5", "#f51be3"))+
labs(y = "Defensa",
x = "Velocidad",
colour = "Generación")+
theme(legend.position = "bottom")
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(
values = c(
"#6C8EBF",
"#8FB996",  # verde salvia
"#E6B566",  # mostaza pastel
"#C97C5D",  # terracota suave
"#9A8FBF",  # lila grisáceo
"#5FA8A8"   # turquesa apagado
))+
labs(y = "Defensa",
x = "Velocidad",
colour = "Generación")+
theme(legend.position = "bottom")
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(
values = c(
"#6C8EBF",
"#8FB996",  # verde salvia
"#E6B566",  # mostaza pastel
"#C97C5D",  # terracota suave
"#9A8FBF",  # lila grisáceo
"#5FA8A8"   # turquesa apagado
))+
labs(y = "Defensa",
x = "Velocidad",
colour = "Generación")
ggplot(pokemon1, aes(x = velocidad, y = defensa, colour = generacion))+
geom_point() +
scale_colour_manual(
values = c("#6C8EBF","#8FB996","#E6B566","#C97C5D","#9A8FBF","#5FA8A8"))+
labs(y = "Defensa",
x = "Velocidad",
colour = "Generación")
# Caso 2
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_point() +
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_point() +
facet_wrap(~generacion, nrow = 3) +
labs(title = "Visualización de defensa y velocidad para pokémons para cada generación",
subtitle = "Generaciones: 1, 2, 3, 4, 5 y 6",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 1:
ggplot(pokemon1, aes(x = velocidad, y = generacion, colour = es_legendario))+
geom_boxplot()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Generación",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 2:
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_smooth()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 3: Con columnas es "fill", no "colour"
ggplot(pokemon, aes(x = velocidad, y = defensa, fill = es_legendario))+
geom_col() +
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
fill = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 4:
ggplot(pokemon1, aes(x = generacion, y = defensa, colour = es_legendario))+
geom_violin()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Generación",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Último caso (no sé si tiene mucho sentido, igual es geom_point()):
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_point()+
coord_polar()
# Caso 1:
ggplot(pokemon1, aes(x = velocidad, y = generacion, colour = es_legendario))+
geom_boxplot()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Generación",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 2:
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_smooth()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 1:
ggplot(pokemon1, aes(x = velocidad, y = generacion, colour = es_legendario))+
geom_boxplot()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Generación",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 2:
ggplot(pokemon, aes(x = velocidad, y = generacion, colour = es_legendario))+
geom_smooth()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 2:
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_smooth()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 1:
ggplot(pokemon1, aes(x = velocidad, y = generacion, colour = es_legendario))+
geom_boxplot()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Generación",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 2:
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_smooth()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 3: Con columnas es "fill", no "colour"
ggplot(pokemon, aes(x = velocidad, y = defensa, fill = es_legendario))+
geom_col() +
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Velocidad",
y = "Defensa",
caption = "Fran M.",
fill = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Caso 4:
ggplot(pokemon1, aes(x = generacion, y = defensa, colour = es_legendario))+
geom_violin()+
labs(title = "Visualización de defensa y velocidad para pokémons legendarios/no legendarios",
x = "Generación",
y = "Defensa",
caption = "Fran M.",
colour = "¿Es legendario?") + # No es "legend", es "colour"
theme(legend.position = "bottom")
# Último caso (no sé si tiene mucho sentido, igual es geom_point()):
ggplot(pokemon, aes(x = velocidad, y = defensa, colour = es_legendario))+
geom_point()+
coord_polar()
ggplot(pokemon1, aes(x = puntos_vida, y = ataque, colour = nivel_evolucion))+
geom_point(aes(size = es_legendario))+
scale_colour_manual(values = c("red", "blue", "yellow", "green", "lightblue", "grey"))+
scale_shape_manual(values = c(2, 3, 4, 5, 6, 7))+
scale_y_continuous(n.breaks = 8)+
labs(x = "Puntos de vida",
y = "Ataque",
colour = "Nivel de evolución",
size = "¿Es legendario?") +
theme_light()
ggplot(pokemon1, aes(x = puntos_vida, y = ataque, colour = nivel_evolucion))+
geom_point(aes(size = es_legendario))+
scale_colour_manual( values = c("#6C8EBF", "#8FB996", "#E6B566", "#C97C5D", "#9A8FBF", "#5FA8A8"))+
scale_shape_manual(values = c(2, 3, 4, 5, 6, 7))+
scale_y_continuous(n.breaks = 8)+
labs(x = "Puntos de vida",
y = "Ataque",
colour = "Nivel de evolución",
size = "¿Es legendario?") +
theme_light()
